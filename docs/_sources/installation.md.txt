# Installation

## Install from source

**Clone the repository:**
```bash
git clone https://github.com/mazzalab/STRmie-HD.git
cd STRmie-HD
```

**Create the conda environment:**
```bash
conda env create -f STRmie.yml
```

**Activate the environment:**
```bash
conda activate STRmie
```

**Install the package:**
```bash
pip install -e .
```

## Install via Bioconda

If you already use Conda/Mamba, you can install **STRmie-HD** directly from the `bioconda` channel:

```bash
# (optional) ensure channels are configured
conda config --add channels conda-forge
conda config --add channels bioconda
conda config --set channel_priority strict

# install
conda install -c bioconda strmie-hd
# or with mamba:
# mamba install -c bioconda strmie-hd
```

---

## Run via BioContainers (Docker)

A pre-built container image is available on Quay (BioContainers). Example:

```bash
docker pull quay.io/biocontainers/strmie-hd:1.0.0--pyhdfd78af_0

# show help
docker run --rm quay.io/biocontainers/strmie-hd:1.0.0--pyhdfd78af_0 strmie --help
```

---

## Verify installation

**Help**
```bash
strmie --help
```


**Automated Testing with Pytest**

The project includes a test suite that validates the core functionalities of both operational modes using example input and expected output files.  
This ensures the tool works as intended after installation or modification.

**Run tests with:**

```bash
pytest tests/test_strmie.py
```

**What it tests:**
Executes the full pipeline and compares the output Excel with the expected report.
